{"version":3,"sources":["file:///Users/abhishekrawat/Desktop/ImageSlicerViewer-sliceAnim/assets/scripts/fitSprite.ts"],"names":["_decorator","Component","assetManager","SpriteFrame","Texture2D","UITransform","Sprite","Size","ccclass","FitSprite","start","fitRemoteImage","remoteUrl","loadRemote","err","imageAsset","spriteFrame","texture","image","fitImage","newSpriteFrame","uiTransform","node","getComponent","oldSize","width","height","console","log","scale","scale2","Number"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,Y,OAAAA,Y;AAA0BC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;;;;;;;;;OAEvG;AAAEC,QAAAA;AAAF,O,GAAcR,U;;2BAGPS,S,WADZD,OAAO,CAAC,WAAD,C,gBAAR,MACaC,SADb,SAC+BR,SAD/B,CACyC;AACrCS,QAAAA,KAAK,GAAG,CAAE;;AAEVC,QAAAA,cAAc,CAACC,SAAD,EAAoB;AAC9BV,UAAAA,YAAY,CAACW,UAAb,CAAoCD,SAApC,EAA+C,CAACE,GAAD,EAAMC,UAAN,KAAqB;AAChE,gBAAID,GAAJ,EAAS,CAER,CAFD,MAEO;AACH,kBAAIE,WAAW,GAAG,IAAIb,WAAJ,EAAlB;AACA,oBAAMc,OAAO,GAAG,IAAIb,SAAJ,EAAhB;AACAa,cAAAA,OAAO,CAACC,KAAR,GAAgBH,UAAhB;AACAC,cAAAA,WAAW,CAACC,OAAZ,GAAsBA,OAAtB;AACA,mBAAKE,QAAL,CAAcH,WAAd;AACH;AACJ,WAVD;AAWH;;AAEDG,QAAAA,QAAQ,CAACC,cAAD,EAA8B;AAClC,cAAIC,WAAwB,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBlB,WAAvB,CAA/B;AACA,cAAImB,OAAa,GAAG,IAAIjB,IAAJ,CAASc,WAAW,CAACI,KAArB,EAA4BJ,WAAW,CAACK,MAAxC,CAApB;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBJ,OAAO,CAACE,MAAxB,EAA+BL,WAAW,CAACK,MAA3C;AACA,eAAKJ,IAAL,CAAUC,YAAV,CAAuBjB,MAAvB,EAA+BU,WAA/B,GAA6CI,cAA7C;AACA,cAAIS,KAAK,GAAC,GAAV;AACA,cAAIC,MAAa,GAAC,EAAlB;;AACA,cAAIT,WAAW,CAACI,KAAZ,GAAoBJ,WAAW,CAACK,MAApC,EAA4C;AACxCI,YAAAA,MAAM,IAAG,GAAGN,OAAO,CAACE,MAAR,GAAiBL,WAAW,CAACK,MAAO,EAAhD;AACCG,YAAAA,KAAK,GAAGE,MAAM,CAACD,MAAD,CAAd;AACDH,YAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBJ,OAAO,CAACE,MAAxB,EAA+BL,WAAW,CAACK,MAA3C,EAAkDG,KAAlD;AAEH,WALD,MAKO;AACHC,YAAAA,MAAM,IAAG,GAAGN,OAAO,CAACE,MAAR,GAAiBL,WAAW,CAACK,MAAO,EAAhD;AAEAG,YAAAA,KAAK,GAAGE,MAAM,CAACD,MAAD,CAAd;AACAH,YAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBJ,OAAO,CAACE,MAAxB,EAA+BL,WAAW,CAACK,MAA3C,EAAkDG,KAAlD;AACH;;AACDR,UAAAA,WAAW,CAACI,KAAZ,GAAoBJ,WAAW,CAACI,KAAZ,GAAoBI,KAAxC;AACAR,UAAAA,WAAW,CAACK,MAAZ,GAAqBL,WAAW,CAACK,MAAZ,GAAqBG,KAA1C;AAEH;;AAtCoC,O","sourcesContent":["import { _decorator, Component, Node, assetManager, ImageAsset, SpriteFrame, Texture2D, UITransform, Sprite, Size } from \"cc\";\n\nconst { ccclass } = _decorator;\n\n@ccclass(\"FitSprite\")\nexport class FitSprite extends Component {\n    start() {}\n\n    fitRemoteImage(remoteUrl: string) {\n        assetManager.loadRemote<ImageAsset>(remoteUrl, (err, imageAsset) => {\n            if (err) {\n                \n            } else {\n                let spriteFrame = new SpriteFrame();\n                const texture = new Texture2D();\n                texture.image = imageAsset;\n                spriteFrame.texture = texture;\n                this.fitImage(spriteFrame);\n            }\n        });\n    }\n\n    fitImage(newSpriteFrame: SpriteFrame) {\n        let uiTransform: UITransform = this.node.getComponent(UITransform);\n        let oldSize: Size = new Size(uiTransform.width, uiTransform.height);\n        console.log(\"1\",oldSize.height,uiTransform.height)\n        this.node.getComponent(Sprite).spriteFrame = newSpriteFrame;\n        let scale=0.1 ;\n        let scale2:string=\"\";\n        if (uiTransform.width < uiTransform.height) {\n            scale2+=`${ oldSize.height / uiTransform.height}`\n             scale = Number(scale2);\n            console.log(\"2\",oldSize.height,uiTransform.height,scale)\n           \n        } else {\n            scale2+=`${ oldSize.height / uiTransform.height}`\n          \n            scale = Number(scale2);\n            console.log(\"2\",oldSize.height,uiTransform.height,scale)\n        }\n        uiTransform.width = uiTransform.width * scale;\n        uiTransform.height = uiTransform.height * scale;\n        \n    }\n}\n"]}