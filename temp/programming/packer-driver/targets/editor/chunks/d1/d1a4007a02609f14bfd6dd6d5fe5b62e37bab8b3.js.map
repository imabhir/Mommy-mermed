{"version":3,"sources":["file:///Users/abhishekrawat/Desktop/ImageSlicerViewer-sliceAnim/assets/scripts/photoSlice2.ts"],"names":["_decorator","Component","Node","SpriteFrame","math","Sprite","UITransform","Vec3","tween","AudioSource","SingletonClass","ResourceUtils","SoundManager","ccclass","property","photoSlice2","MouseposX","MouseposY","imageSprite","rect","flag","puzzleResult","GnumOfSlice","imageCallback","selectImgPos","pos","NegativePoint","audio","soundsObj","soundManager","start","node","getComponent","clip","getInstance","setSlice","splitCount","Index","imageAsset","callback","sprite","createWithImage","height","width","on","EventType","TOUCH_START","touchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","checkOrder2","setRect","spriteFrame","name","json","event","parent","convertToNodeSpaceAR","getUILocation","x","y","getPosition","console","log","target","position","z","setPosition","Nodepos","nodeName","parseInt","i","AnotherNode","getChildByName","lowerDistance","distance","newPos","to","call","boolSound","play","checkPuzzle","FirstNode","secNode","FirstNodePos","check","remaingNode","setWinMusicVolume","playWinSoundEffect","getMusicFile","mid","Math","floor","c","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, SpriteFrame, Texture2D, math, Sprite, ImageAsset, Label, EventTouch, UITransform, Vec3, EventMouse, Prefab, instantiate, JsonAsset, Intersection2D, tween, assetManager, AudioSource, AudioClip } from 'cc';\nimport { glowing } from './glowing';\nconst { ccclass, property } = _decorator;\nimport { SingletonClass } from './singleTon';\nimport { Audio } from './audio';\nimport { ResourceUtils } from './managers/resourceUtils';\nimport { SoundManager } from './managers/soundManager';\n@ccclass('photoSlice2')\nexport class photoSlice2 extends Component {\n    \n    MouseposX:Number=0;\n    MouseposY:Number=0;\n    imageSprite :SpriteFrame = null;\n    rect:Vec3=null;\n    flag : boolean=true;\n    puzzleResult : Boolean = false;\n    GnumOfSlice:number=0;\n    imageCallback : any = null;\n    selectImgPos : Vec3 = null;\n    pos:Vec3=null;\n    NegativePoint:number=0;\n    audio: any=null;\n    soundsObj:any=null;\n    soundManager:any=null;\n    \n    start() {\n        this.audio=this.node.getComponent(AudioSource).clip;\n        this.soundsObj=SingletonClass.getInstance();\n        this.soundManager = SoundManager.getInstance();\n    }\n    /**\n     * asdasdasdad\n     * @param splitCount ad\n     * @param Index \n     * @param imageAsset \n     */\n    setSlice(splitCount : number ,Index :number,imageAsset : ImageAsset, callback){\n       \n        this.GnumOfSlice=splitCount\n        this.imageCallback = callback\n        let sprite = SpriteFrame.createWithImage(imageAsset); \n        \n        if(this.flag == true){\n            this.imageSprite = sprite\n            this.flag = false\n        }\n        \n        // this.NegativePoint=(imageAsset.height/2)-(imageAsset.height/this.GnumOfSlice)-(this.GnumOfSlice-1)*((imageAsset.height/this.GnumOfSlice))+((imageAsset.height/this.GnumOfSlice)/2);\n\n        let rect=math.rect(0,Index*(sprite.height/splitCount),sprite.width,sprite.height/splitCount);\n        this.node.on(Node.EventType.TOUCH_START,this.touchStart,this,true);\n        this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove, this, true);\n        this.node.on(Node.EventType.TOUCH_END,this.checkOrder2,this,true);\n        sprite.setRect(rect);\n        this.node.getComponent(Sprite).spriteFrame = sprite;\n       this.node.name = `${Index}`\n       \n       let json : JsonAsset\n    }\n\n\n    touchStart(event:EventTouch){\n        \n        this.rect = this.node.parent.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(event.getUILocation().x,event.getUILocation().y,0)); \n        this.pos=this.node.getPosition();\n        console.log(this.pos);\n        this.rect.x=this.rect.x-this.pos.x;\n        this.rect.y=this.rect.y-this.pos.y;  \n       \n        this.selectImgPos = this.node.getPosition();\n    }\n\n    onTouchMove(event: EventTouch) {\n\n         if(this.rect.x<0&&this.rect.y<0){\n            event.target.position =  this.node.parent.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(event.getUILocation().x-this.rect.x,event.getUILocation().y-this.rect.y,0)); \n        }else if(this.rect.x>=0&&this.rect.y<0){\n            event.target.position =  this.node.parent.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(event.getUILocation().x-this.rect.x,event.getUILocation().y-this.rect.y,0));\n        }else if(this.rect.x<0&&this.rect.y>0){\n            event.target.position =  this.node.parent.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(event.getUILocation().x-this.rect.x,event.getUILocation().y+this.rect.y,0));\n        }else{\n            event.target.position =  this.node.parent.getComponent(UITransform).convertToNodeSpaceAR(new Vec3(event.getUILocation().x-this.rect.x,event.getUILocation().y-this.rect.y,0));\n        }\n        var pos=this.node.getPosition();\n        pos.z=0;\n        \n        this.node.setPosition(pos);\n        pos.x=0;\n        this.node.setPosition(pos);\n    }\n\n    checkOrder2(event:EventTouch){\n        var Nodepos=this.node.getPosition();\n       \n           this.node.setPosition(Nodepos);\n            var nodeName=parseInt(this.node.name);\n            if(Nodepos.y  >= ((this.imageSprite.height)/2-((this.imageSprite.height/this.GnumOfSlice )))){\n\n                this.node.setPosition(this.selectImgPos);\n                console.log(\"out of bound + \",Nodepos.y);\n            }else if (Nodepos.y < this.NegativePoint    ){\n                console.log(\"work\")\n                this.node.setPosition(this.selectImgPos);\n                console.log(\"out of bound\",Nodepos.y);\n                \n            }\n                 \n            for(var i=0;i<this.GnumOfSlice;i++){\n                let AnotherNode=this.node.parent.getChildByName(`${i}`);\n                if(nodeName!=i){ \n                    var lowerDistance=Vec3.distance(AnotherNode.getPosition(),Nodepos);\n                        if(lowerDistance<(this.imageSprite.height/this.GnumOfSlice)){\n                        let newPos = AnotherNode.getPosition();\n                        let pos=newPos;\n                        this.node.setPosition(pos);\n                        newPos.y = this.selectImgPos.y\n                        newPos.z=0;\n                       \n                        if(this.selectImgPos.y<newPos.y){\n                            tween(AnotherNode)\n                        .to(0.07,{position : new Vec3(newPos.x,-newPos.y,newPos.z), })\n                        .call(() => {\n                            if(!this.soundsObj.boolSound){\n                            this.audio.play();   \n                            }\n                           \n                            this.checkPuzzle();\n                        })\n                        .start();\n                        }else{\n                            tween(AnotherNode)\n                            .to(0.07,{position : new Vec3(newPos.x,newPos.y,newPos.z), })\n                            .call(() => {\n                                if(!this.soundsObj.boolSound){\n                                    this.audio.play();   \n                                    }\n                                this.checkPuzzle();\n                            })\n                            .start();\n                        }\n                       \n\n                        break;\n                    }\n                }\n            }\n        \n        \n\n    }\n\n    checkPuzzle(){\n       \n        var FirstNode=this.node.parent.getChildByName('0');\n        var secNode=this.node.parent.getChildByName('1');\n        var FirstNodePos=FirstNode.getPosition();\n        var check=0;\n        if(FirstNode.getPosition().y > secNode.getPosition().y){\n        check=1;\n        for(var i=1;i<this.GnumOfSlice;i++){\n            var remaingNode=this.node.parent.getChildByName(`${i}`);\n            var distance=Vec3.distance(remaingNode.getPosition(),FirstNodePos);\n            \n            if( distance+30 >= i*(this.imageSprite.height/this.GnumOfSlice) && distance-30 <= i *(this.imageSprite.height/this.GnumOfSlice)){\n            }\n            else{\n                check=0;\n            }\n        }\n        }\n        if(check){\n            if(!this.soundsObj.boolSound){\n                this.soundManager.setWinMusicVolume(1);\n                this.soundManager.playWinSoundEffect( ResourceUtils.getInstance().getMusicFile(\"Sky-Puzzle\"),false);\n                console.log(\"win sound\");\n            }\n            let mid = Math.floor(this.GnumOfSlice/2);\n            let c = this.node.parent.getChildByName(`${mid}`)\n            this.puzzleResult = true;\n            this.imageCallback(this.puzzleResult, c.getPosition());\n   \n        }\n    }\n    update(deltaTime: number) {\n    }\n}\n\n"]}